---
layout: post
title:  "网络学习笔记8：网络安全"
date:   2019-11-08
tags: 网络
color: rgb(255,102,51)
---

> 作为后端应用程序员，从上到下学到IP层就足够了。常用的SSL/TLS加密层是位于HTTP/TCP之间的，而且对于任何互联网应用来说都非常重要，因此是必须要掌握的部分。

# 第八章 Security in Computer Networks

我们遵循从上到下的思路，先讲TCP安全，然后网络层，然后无线LAN。

## 8.1 什么是网络安全

要注意的是，因特网是个开放的网络，根据前面学习的IP协议，理论上任何人都可以拦截或者监听你发出的报文段。

安全通信有如下目标：

- 保密性。只有发送方和意向接收方才能理解消息内容。因此消息需要『加密`encrypted`』。
- 完整性。保证消息不被意外或者恶意地篡改。通过校验和实现。
- 身份认证。确认对方是对的人。
- 运行安全。保护内部终端不受外部的攻击。使用防火墙。

加密是最重要的，但是必须要伴随身份认证一起使用。

## 8.2 加密的原则

虽然密码学已经有悠久的历史，但是在因特网中使用的现代密码学是最近几十年才发展的。

原始数据称为『明文`plaintext`（`cleartext`）』，发送方将明文加密后得到了『密文`ciphertext`』。有趣的是，现在的加密技术本身都是公开的、标准化的。因此加密的关键在于『秘钥`key`』。

将秘钥作为加密算法的参数，将明文转化文密文；另一方也提供一个秘钥，作为『解密算法`decryption algorithm`』的输入。在『对称秘钥系统`symmetric key systems`』中，两个秘钥是相同的；而在『非对称秘钥系统`public key systems`』中，一个秘钥是完全公开的，而另一个秘钥是只有一方才知道的。

### 8.2.1 对称秘钥

先看一个最古老的加密法：凯撒密码。方法很简单，将字母在字母表中的顺序增加一个值，得到一个新的字符串。改进一下，可以用任意一个字母来替代某个字母（而不是固定顺延几个号）。

在破译密码时，可能有两种情况，一种是纯密文攻击`Ciphertext-only attack`，这种是最坏情况，需要最暴力的破解方法；另一种是已知明文攻击`Known-plaintext attack`即已知明文中的一些内容（比如知道用户的名字在明文中），基于这些内容进行破译，会让难度下降很多。

再改进一下，有『多字元加密法`polyalphabetic encryption`』，即根据字母在字符串中的位置，选择不同的字母（选择不同的密码表）去替代它。

#### 分组密码

对称加密有两大类，『序列密码`stream ciphers`』和『分组密码`block ciphers`』。序列密码用于无线网络加密，分组密码在当今应用于PGP（邮件加密）、SSL（TCP加密）和IPsec（IP层加密）。

分组加密时，将明文按照一定的长度k分组，每一组分别加密为k长度的密文。我们将这种将一组明文翻译为一组密文的规则（密码表）称为一个秘钥。

这种加密方式非常强大，破译的难度是以指数级别上升的。但相应地，密码表可能也会很大。如何减小密码表？答案是使用函数，而不是简单的储存配个密码配对。比如以64bit为一组，储存8个8bit的秘钥，分别加密之后进行扰乱，然后得到输出。

![2019-11-08-block-cipher.png](/static/blog/2019-11-08-block-cipher.png)

现在流行的分组加密算法包括DES、3DES、AES等。可以认为秘钥的长度k就是加密算法的强度，暴力破解的话需要`2^k`次尝试才能成功，以当今计算机性能来说128bit的秘钥就已经牢不可破了。（译者注：最近有量子计算机的消息，也许现在的密码也快要不够强了）

(未完待续)
